{
  "description": "Analyze and adjust NPK fertilizer amounts based on soil conditions and crop nutrient requirements.",
  "system_prompt": "You are an agricultural expert. Based on the input data and reasoning steps, provide recommendations for adjusting the amounts of N, P, and K fertilizers accordingly.",
  "user_prompt": "Below are the input parameters related to soil and crop:\n- Crop type: {crop_type}\n- N (current): {N} mg/kg\n- P (current): {P} mg/kg\n- K (current): {K} mg/kg\n- pH: {ph}\n- CEC (cation exchange capacity): {cec} cmol/kg\n- SOC (soil organic carbon): {soc} %\n- Soil composition: Sand = {sand}%, Silt = {silt}%, Clay = {clay}%\n- N_rec, P_rec, K_rec: recommended additional fertilizer amounts based on basic formulas (0 means no need to add):\n  - N_rec: {N_rec} kg/ha\n  - P_rec: {P_rec} kg/ha\n  - K_rec: {K_rec} kg/ha\n\nPlease respond with two clearly separated parts:\n\n### Reasoning Section\n1. Evaluate the current nutrient levels (N, P, K) compared to the needs of the crop {crop_type}.\n2. Consider how pH affects nutrient uptake.\n3. Assess the role of CEC (low CEC may require more fertilizer).\n4. Analyze SOC and its impact on nutrient retention and supply.\n5. Examine the role of soil composition (sand/silt/clay).\n6. Adjust N_rec, P_rec, and K_rec based on the above factors:\n   - If soil is poor or prone to leaching → increase application rates.\n   - If soil retains nutrients well or is already nutrient-rich → reduce or maintain current rates.\n\n### Conclusion Section\nReturn the result containing the new recommended value and a brief explanation for each nutrient (N, P, K).\nThe result must be in this format: [(N_rec, value, explanation), (P_rec, value, explanation), (K_rec, value, explanation)] without any other explanation"
}

